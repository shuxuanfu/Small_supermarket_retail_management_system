# 小型超市零售管理系统 - 测试用例文档

## 1. 用户认证测试

### 1.1 登录测试

| 测试ID | TC-AUTH-001 |
|-------|------------|
| 测试名称 | 用户登录-成功 |
| 前置条件 | 数据库中存在用户名为"admin"的用户 |
| 测试步骤 | 1. 发送POST请求到`/api/auth/login`<br>2. 请求体包含正确的用户名和密码 |
| 预期结果 | 1. 返回状态码200<br>2. 返回包含token和用户信息的JSON数据<br>3. 用户角色正确 |

| 测试ID | TC-AUTH-002 |
|-------|------------|
| 测试名称 | 用户登录-失败(密码错误) |
| 前置条件 | 数据库中存在用户名为"admin"的用户 |
| 测试步骤 | 1. 发送POST请求到`/api/auth/login`<br>2. 请求体包含正确的用户名和错误的密码 |
| 预期结果 | 1. 返回状态码401<br>2. 返回错误消息"用户名或密码错误" |

| 测试ID | TC-AUTH-003 |
|-------|------------|
| 测试名称 | 用户登录-失败(用户不存在) |
| 前置条件 | 数据库中不存在用户名为"nonexistent"的用户 |
| 测试步骤 | 1. 发送POST请求到`/api/auth/login`<br>2. 请求体包含不存在的用户名 |
| 预期结果 | 1. 返回状态码401<br>2. 返回错误消息"用户名或密码错误" |

### 1.2 用户管理测试

| 测试ID | TC-AUTH-004 |
|-------|------------|
| 测试名称 | 创建用户-成功 |
| 前置条件 | 1. 已获取管理员用户的有效token<br>2. 数据库中不存在用户名为"newuser"的用户 |
| 测试步骤 | 1. 发送POST请求到`/api/auth/register`<br>2. 请求头包含有效的管理员token<br>3. 请求体包含新用户信息 |
| 预期结果 | 1. 返回状态码200<br>2. 返回包含新用户信息的JSON数据<br>3. 数据库中成功创建新用户 |

| 测试ID | TC-AUTH-005 |
|-------|------------|
| 测试名称 | 创建用户-失败(权限不足) |
| 前置条件 | 已获取普通收银员用户的有效token |
| 测试步骤 | 1. 发送POST请求到`/api/auth/register`<br>2. 请求头包含普通收银员的token<br>3. 请求体包含新用户信息 |
| 预期结果 | 1. 返回状态码403<br>2. 返回错误消息"权限不足" |

| 测试ID | TC-AUTH-006 |
|-------|------------|
| 测试名称 | 获取用户列表-成功 |
| 前置条件 | 已获取管理员用户的有效token |
| 测试步骤 | 1. 发送GET请求到`/api/auth/users`<br>2. 请求头包含有效的管理员token |
| 预期结果 | 1. 返回状态码200<br>2. 返回包含用户列表的JSON数据 |

## 2. 商品管理测试

### 2.1 商品添加测试

| 测试ID | TC-PROD-001 |
|-------|------------|
| 测试名称 | 添加商品-成功 |
| 前置条件 | 已获取有效token |
| 测试步骤 | 1. 发送POST请求到`/api/products`<br>2. 请求头包含有效token<br>3. 请求体包含完整的商品信息 |
| 预期结果 | 1. 返回状态码200<br>2. 返回包含新商品信息的JSON数据<br>3. 数据库中成功创建商品和库存记录 |

| 测试ID | TC-PROD-002 |
|-------|------------|
| 测试名称 | 添加商品-失败(商品编号已存在) |
| 前置条件 | 1. 已获取有效token<br>2. 数据库中已存在编号为"P001"的商品 |
| 测试步骤 | 1. 发送POST请求到`/api/products`<br>2. 请求头包含有效token<br>3. 请求体包含编号为"P001"的商品信息 |
| 预期结果 | 1. 返回状态码400<br>2. 返回错误消息"商品编号已存在" |

### 2.2 商品查询测试

| 测试ID | TC-PROD-003 |
|-------|------------|
| 测试名称 | 获取商品列表-成功 |
| 前置条件 | 1. 已获取有效token<br>2. 数据库中存在多个商品记录 |
| 测试步骤 | 1. 发送GET请求到`/api/products`<br>2. 请求头包含有效token |
| 预期结果 | 1. 返回状态码200<br>2. 返回包含商品列表的JSON数据<br>3. 返回的数据包含分页信息 |

| 测试ID | TC-PROD-004 |
|-------|------------|
| 测试名称 | 商品搜索-成功 |
| 前置条件 | 1. 已获取有效token<br>2. 数据库中存在条形码为"6901234567890"的商品 |
| 测试步骤 | 1. 发送GET请求到`/api/products/search?keyword=6901234567890`<br>2. 请求头包含有效token |
| 预期结果 | 1. 返回状态码200<br>2. 返回包含匹配商品信息的JSON数据 |

### 2.3 商品更新测试

| 测试ID | TC-PROD-005 |
|-------|------------|
| 测试名称 | 更新商品-成功 |
| 前置条件 | 1. 已获取有效token<br>2. 数据库中存在ID为1的商品 |
| 测试步骤 | 1. 发送PUT请求到`/api/products/1`<br>2. 请求头包含有效token<br>3. 请求体包含更新的商品信息 |
| 预期结果 | 1. 返回状态码200<br>2. 返回包含更新后商品信息的JSON数据<br>3. 数据库中商品信息成功更新 |

## 3. 会员管理测试

### 3.1 会员添加测试

| 测试ID | TC-MEM-001 |
|-------|------------|
| 测试名称 | 添加会员-成功 |
| 前置条件 | 已获取有效token |
| 测试步骤 | 1. 发送POST请求到`/api/members`<br>2. 请求头包含有效token<br>3. 请求体包含完整的会员信息 |
| 预期结果 | 1. 返回状态码200<br>2. 返回包含新会员信息的JSON数据<br>3. 数据库中成功创建会员记录<br>4. 会员有效期正确设置为一年 |

| 测试ID | TC-MEM-002 |
|-------|------------|
| 测试名称 | 添加会员-失败(会员卡号已存在) |
| 前置条件 | 1. 已获取有效token<br>2. 数据库中已存在卡号为"M001"的会员 |
| 测试步骤 | 1. 发送POST请求到`/api/members`<br>2. 请求头包含有效token<br>3. 请求体包含卡号为"M001"的会员信息 |
| 预期结果 | 1. 返回状态码400<br>2. 返回错误消息"会员卡号已存在" |

### 3.2 会员查询测试

| 测试ID | TC-MEM-003 |
|-------|------------|
| 测试名称 | 获取会员列表-成功 |
| 前置条件 | 1. 已获取有效token<br>2. 数据库中存在多个会员记录 |
| 测试步骤 | 1. 发送GET请求到`/api/members`<br>2. 请求头包含有效token |
| 预期结果 | 1. 返回状态码200<br>2. 返回包含会员列表的JSON数据<br>3. 返回的数据包含分页信息 |

| 测试ID | TC-MEM-004 |
|-------|------------|
| 测试名称 | 会员搜索-成功 |
| 前置条件 | 1. 已获取有效token<br>2. 数据库中存在卡号为"M001"的会员 |
| 测试步骤 | 1. 发送GET请求到`/api/members/search?card_no=M001`<br>2. 请求头包含有效token |
| 预期结果 | 1. 返回状态码200<br>2. 返回包含匹配会员信息的JSON数据 |

### 3.3 会员更新测试

| 测试ID | TC-MEM-005 |
|-------|------------|
| 测试名称 | 更新会员-成功 |
| 前置条件 | 1. 已获取有效token<br>2. 数据库中存在ID为1的会员 |
| 测试步骤 | 1. 发送PUT请求到`/api/members/1`<br>2. 请求头包含有效token<br>3. 请求体包含更新的会员信息 |
| 预期结果 | 1. 返回状态码200<br>2. 返回包含更新后会员信息的JSON数据<br>3. 数据库中会员信息成功更新 |

### 3.4 会员续卡测试

| 测试ID | TC-MEM-006 |
|-------|------------|
| 测试名称 | 会员续卡-成功 |
| 前置条件 | 1. 已获取有效token<br>2. 数据库中存在ID为1的会员 |
| 测试步骤 | 1. 发送POST请求到`/api/members/renew/1`<br>2. 请求头包含有效token |
| 预期结果 | 1. 返回状态码200<br>2. 返回包含更新后会员信息的JSON数据<br>3. 会员有效期成功延长一年<br>4. 会员状态设置为有效 |

## 4. 库存管理测试

### 4.1 库存查询测试

| 测试ID | TC-INV-001 |
|-------|------------|
| 测试名称 | 获取库存列表-成功 |
| 前置条件 | 1. 已获取有效token<br>2. 数据库中存在多个库存记录 |
| 测试步骤 | 1. 发送GET请求到`/api/inventory`<br>2. 请求头包含有效token |
| 预期结果 | 1. 返回状态码200<br>2. 返回包含库存列表的JSON数据<br>3. 返回的数据包含分页信息 |

| 测试ID | TC-INV-002 |
|-------|------------|
| 测试名称 | 获取库存预警-成功 |
| 前置条件 | 1. 已获取有效token<br>2. 数据库中存在库存低于预警阈值的商品 |
| 测试步骤 | 1. 发送GET请求到`/api/inventory/alert`<br>2. 请求头包含有效token |
| 预期结果 | 1. 返回状态码200<br>2. 返回包含库存预警列表的JSON数据<br>3. 列表中只包含库存低于预警阈值的商品 |

### 4.2 库存更新测试

| 测试ID | TC-INV-003 |
|-------|------------|
| 测试名称 | 更新库存-成功 |
| 前置条件 | 1. 已获取有效token<br>2. 数据库中存在ID为1的商品 |
| 测试步骤 | 1. 发送PUT请求到`/api/inventory/1`<br>2. 请求头包含有效token<br>3. 请求体包含更新的库存信息 |
| 预期结果 | 1. 返回状态码200<br>2. 返回包含更新后库存信息的JSON数据<br>3. 数据库中库存信息成功更新 |

## 5. 销售管理测试

### 5.1 订单创建测试

| 测试ID | TC-ORD-001 |
|-------|------------|
| 测试名称 | 创建订单-成功(无会员) |
| 前置条件 | 1. 已获取有效token<br>2. 数据库中存在ID为1的商品，库存充足 |
| 测试步骤 | 1. 发送POST请求到`/api/orders`<br>2. 请求头包含有效token<br>3. 请求体包含订单项信息，不包含会员ID |
| 预期结果 | 1. 返回状态码200<br>2. 返回包含新订单信息的JSON数据<br>3. 数据库中成功创建订单和订单项记录<br>4. 商品库存相应减少 |

| 测试ID | TC-ORD-002 |
|-------|------------|
| 测试名称 | 创建订单-成功(有会员) |
| 前置条件 | 1. 已获取有效token<br>2. 数据库中存在ID为1的商品，库存充足<br>3. 数据库中存在ID为1的有效会员 |
| 测试步骤 | 1. 发送POST请求到`/api/orders`<br>2. 请求头包含有效token<br>3. 请求体包含订单项信息和会员ID |
| 预期结果 | 1. 返回状态码200<br>2. 返回包含新订单信息的JSON数据<br>3. 数据库中成功创建订单和订单项记录<br>4. 商品库存相应减少<br>5. 会员折扣正确计算(95折)<br>6. 会员累计消费金额增加 |

| 测试ID | TC-ORD-003 |
|-------|------------|
| 测试名称 | 创建订单-失败(库存不足) |
| 前置条件 | 1. 已获取有效token<br>2. 数据库中存在ID为1的商品，库存为5<br>3. 尝试购买10个该商品 |
| 测试步骤 | 1. 发送POST请求到`/api/orders`<br>2. 请求头包含有效token<br>3. 请求体包含订单项信息，数量大于库存 |
| 预期结果 | 1. 返回状态码400<br>2. 返回错误消息"商品库存不足"<br>3. 数据库中不创建订单记录<br>4. 商品库存不变 |

### 5.2 订单查询测试

| 测试ID | TC-ORD-004 |
|-------|------------|
| 测试名称 | 获取订单列表-成功 |
| 前置条件 | 1. 已获取有效token<br>2. 数据库中存在多个订单记录 |
| 测试步骤 | 1. 发送GET请求到`/api/orders`<br>2. 请求头包含有效token |
| 预期结果 | 1. 返回状态码200<br>2. 返回包含订单列表的JSON数据<br>3. 返回的数据包含分页信息 |

| 测试ID | TC-ORD-005 |
|-------|------------|
| 测试名称 | 获取订单详情-成功 |
| 前置条件 | 1. 已获取有效token<br>2. 数据库中存在ID为1的订单 |
| 测试步骤 | 1. 发送GET请求到`/api/orders/1`<br>2. 请求头包含有效token |
| 预期结果 | 1. 返回状态码200<br>2. 返回包含订单详情的JSON数据<br>3. 返回的数据包含订单项信息 |

## 6. 进货管理测试

### 6.1 进货计划测试

| 测试ID | TC-PUR-001 |
|-------|------------|
| 测试名称 | 创建进货计划-成功 |
| 前置条件 | 1. 已获取有效token<br>2. 数据库中存在ID为1的商品 |
| 测试步骤 | 1. 发送POST请求到`/api/purchase-plans`<br>2. 请求头包含有效token<br>3. 请求体包含商品ID和数量 |
| 预期结果 | 1. 返回状态码200<br>2. 返回包含新进货计划信息的JSON数据<br>3. 数据库中成功创建进货计划记录 |

| 测试ID | TC-PUR-002 |
|-------|------------|
| 测试名称 | 获取进货计划列表-成功 |
| 前置条件 | 1. 已获取有效token<br>2. 数据库中存在多个进货计划记录 |
| 测试步骤 | 1. 发送GET请求到`/api/purchase-plans`<br>2. 请求头包含有效token |
| 预期结果 | 1. 返回状态码200<br>2. 返回包含进货计划列表的JSON数据<br>3. 返回的数据包含分页信息 |

### 6.2 入库操作测试

| 测试ID | TC-PUR-003 |
|-------|------------|
| 测试名称 | 入库操作-成功(关联计划) |
| 前置条件 | 1. 已获取有效token<br>2. 数据库中存在ID为1的商品<br>3. 数据库中存在ID为1的进货计划 |
| 测试步骤 | 1. 发送POST请求到`/api/stock-in`<br>2. 请求头包含有效token<br>3. 请求体包含商品ID、数量、金额和计划ID |
| 预期结果 | 1. 返回状态码200<br>2. 返回包含入库记录信息的JSON数据<br>3. 数据库中成功创建入库记录<br>4. 商品库存相应增加<br>5. 进货计划状态更新为已完成 |

| 测试ID | TC-PUR-004 |
|-------|------------|
| 测试名称 | 入库操作-成功(不关联计划) |
| 前置条件 | 1. 已获取有效token<br>2. 数据库中存在ID为1的商品 |
| 测试步骤 | 1. 发送POST请求到`/api/stock-in`<br>2. 请求头包含有效token<br>3. 请求体包含商品ID、数量和金额，不包含计划ID |
| 预期结果 | 1. 返回状态码200<br>2. 返回包含入库记录信息的JSON数据<br>3. 数据库中成功创建入库记录<br>4. 商品库存相应增加 |

| 测试ID | TC-PUR-005 |
|-------|------------|
| 测试名称 | 获取入库记录列表-成功 |
| 前置条件 | 1. 已获取有效token<br>2. 数据库中存在多个入库记录 |
| 测试步骤 | 1. 发送GET请求到`/api/stock-in`<br>2. 请求头包含有效token |
| 预期结果 | 1. 返回状态码200<br>2. 返回包含入库记录列表的JSON数据<br>3. 返回的数据包含分页信息 |

## 7. 交班管理测试

### 7.1 交班操作测试

| 测试ID | TC-SHF-001 |
|-------|------------|
| 测试名称 | 开始交班-成功 |
| 前置条件 | 1. 已获取有效token<br>2. 当前用户没有未结束的交班记录 |
| 测试步骤 | 1. 发送POST请求到`/api/shifts/start`<br>2. 请求头包含有效token |
| 预期结果 | 1. 返回状态码200<br>2. 返回包含交班记录信息的JSON数据<br>3. 数据库中成功创建交班记录<br>4. 交班状态为进行中 |

| 测试ID | TC-SHF-002 |
|-------|------------|
| 测试名称 | 开始交班-失败(有未结束交班) |
| 前置条件 | 1. 已获取有效token<br>2. 当前用户有未结束的交班记录 |
| 测试步骤 | 1. 发送POST请求到`/api/shifts/start`<br>2. 请求头包含有效token |
| 预期结果 | 1. 返回状态码400<br>2. 返回错误消息"您有未结束的交班记录，请先结束上一次交班" |

| 测试ID | TC-SHF-003 |
|-------|------------|
| 测试名称 | 结束交班-成功 |
| 前置条件 | 1. 已获取有效token<br>2. 当前用户有未结束的交班记录<br>3. 交班期间有订单记录 |
| 测试步骤 | 1. 发送POST请求到`/api/shifts/end`<br>2. 请求头包含有效token |
| 预期结果 | 1. 返回状态码200<br>2. 返回包含交班记录信息的JSON数据<br>3. 交班状态更新为已结束<br>4. 订单数量和总金额正确计算 |

| 测试ID | TC-SHF-004 |
|-------|------------|
| 测试名称 | 结束交班-失败(无进行中交班) |
| 前置条件 | 1. 已获取有效token<br>2. 当前用户没有未结束的交班记录 |
| 测试步骤 | 1. 发送POST请求到`/api/shifts/end`<br>2. 请求头包含有效token |
| 预期结果 | 1. 返回状态码400<br>2. 返回错误消息"没有进行中的交班记录" |

### 7.2 交班查询测试

| 测试ID | TC-SHF-005 |
|-------|------------|
| 测试名称 | 获取交班记录列表-成功 |
| 前置条件 | 1. 已获取有效token<br>2. 数据库中存在多个交班记录 |
| 测试步骤 | 1. 发送GET请求到`/api/shifts`<br>2. 请求头包含有效token |
| 预期结果 | 1. 返回状态码200<br>2. 返回包含交班记录列表的JSON数据<br>3. 返回的数据包含分页信息 |

| 测试ID | TC-SHF-006 |
|-------|------------|
| 测试名称 | 获取当前交班-成功 |
| 前置条件 | 1. 已获取有效token<br>2. 当前用户有未结束的交班记录 |
| 测试步骤 | 1. 发送GET请求到`/api/shifts/current`<br>2. 请求头包含有效token |
| 预期结果 | 1. 返回状态码200<br>2. 返回包含当前交班记录信息的JSON数据<br>3. 返回的数据包含实时订单数量和总金额 |

## 8. 统计接口测试

### 8.1 销售统计测试

| 测试ID | TC-STA-001 |
|-------|------------|
| 测试名称 | 获取销售统计-成功(日) |
| 前置条件 | 1. 已获取有效token<br>2. 数据库中存在当日的订单记录 |
| 测试步骤 | 1. 发送GET请求到`/api/stats/sales?type=day&date=2023-01-01`<br>2. 请求头包含有效token |
| 预期结果 | 1. 返回状态码200<br>2. 返回包含销售统计数据的JSON数据<br>3. 返回的数据包含按小时统计的详情 |

| 测试ID | TC-STA-002 |
|-------|------------|
| 测试名称 | 获取销售统计-成功(周) |
| 前置条件 | 1. 已获取有效token<br>2. 数据库中存在本周的订单记录 |
| 测试步骤 | 1. 发送GET请求到`/api/stats/sales?type=week&date=2023-01-01`<br>2. 请求头包含有效token |
| 预期结果 | 1. 返回状态码200<br>2. 返回包含销售统计数据的JSON数据<br>3. 返回的数据包含按天统计的详情 |

### 8.2 商品销售排行测试

| 测试ID | TC-STA-003 |
|-------|------------|
| 测试名称 | 获取商品销售排行-成功 |
| 前置条件 | 1. 已获取有效token<br>2. 数据库中存在订单记录 |
| 测试步骤 | 1. 发送GET请求到`/api/stats/products?type=day&date=2023-01-01&limit=5`<br>2. 请求头包含有效token |
| 预期结果 | 1. 返回状态码200<br>2. 返回包含商品销售排行的JSON数据<br>3. 返回的数据按销售额降序排序<br>4. 返回的数据不超过5条 |

### 8.3 仪表盘统计测试

| 测试ID | TC-STA-004 |
|-------|------------|
| 测试名称 | 获取仪表盘统计-成功 |
| 前置条件 | 1. 已获取有效token<br>2. 数据库中存在订单记录 |
| 测试步骤 | 1. 发送GET请求到`/api/stats/dashboard`<br>2. 请求头包含有效token |
| 预期结果 | 1. 返回状态码200<br>2. 返回包含今日统计、7天趋势和分类占比的JSON数据 |

## 9. 集成测试场景

### 9.1 完整销售流程测试

| 测试ID | TC-INT-001 |
|-------|------------|
| 测试名称 | 完整销售流程-普通客户 |
| 前置条件 | 1. 已获取有效token<br>2. 数据库中存在商品记录 |
| 测试步骤 | 1. 开始交班<br>2. 扫描/搜索商品<br>3. 创建订单<br>4. 查看订单详情<br>5. 结束交班 |
| 预期结果 | 1. 所有操作返回状态码200<br>2. 订单成功创建<br>3. 商品库存相应减少<br>4. 交班记录中订单数量和总金额正确 |

| 测试ID | TC-INT-002 |
|-------|------------|
| 测试名称 | 完整销售流程-会员客户 |
| 前置条件 | 1. 已获取有效token<br>2. 数据库中存在商品记录<br>3. 数据库中存在有效会员 |
| 测试步骤 | 1. 开始交班<br>2. 扫描/搜索商品<br>3. 扫描/搜索会员卡<br>4. 创建订单(包含会员ID)<br>5. 查看订单详情<br>6. 结束交班 |
| 预期结果 | 1. 所有操作返回状态码200<br>2. 订单成功创建<br>3. 会员折扣正确计算<br>4. 会员累计消费金额增加<br>5. 商品库存相应减少<br>6. 交班记录中订单数量和总金额正确 |

### 9.2 完整进货流程测试

| 测试ID | TC-INT-003 |
|-------|------------|
| 测试名称 | 完整进货流程 |
| 前置条件 | 1. 已获取管理员有效token<br>2. 数据库中存在商品记录 |
| 测试步骤 | 1. 创建进货计划<br>2. 查看进货计划列表<br>3. 执行入库操作(关联计划)<br>4. 查看入库记录列表<br>5. 查看库存列表 |
| 预期结果 | 1. 所有操作返回状态码200<br>2. 进货计划成功创建<br>3. 入库记录成功创建<br>4. 进货计划状态更新为已完成<br>5. 商品库存相应增加 |

## 10. 性能测试

### 10.1 并发测试

| 测试ID | TC-PERF-001 |
|-------|------------|
| 测试名称 | 并发订单创建测试 |
| 前置条件 | 1. 已获取多个有效token<br>2. 数据库中存在商品记录，库存充足 |
| 测试步骤 | 1. 使用10个并发线程同时发送POST请求到`/api/orders`<br>2. 每个请求使用不同的token<br>3. 请求体包含相同商品的订单项信息 |
| 预期结果 | 1. 所有请求返回状态码200<br>2. 所有订单成功创建<br>3. 商品库存正确减少(无超卖现象)<br>4. 系统响应时间在可接受范围内 |

### 10.2 负载测试

| 测试ID | TC-PERF-002 |
|-------|------------|
| 测试名称 | 商品列表查询负载测试 |
| 前置条件 | 1. 已获取有效token<br>2. 数据库中存在大量商品记录(>1000) |
| 测试步骤 | 1. 发送GET请求到`/api/products?page=1&limit=100`<br>2. 请求头包含有效token<br>3. 连续执行50次请求 |
| 预期结果 | 1. 所有请求返回状态码200<br>2. 系统响应时间在可接受范围内<br>3. 内存使用稳定 |

## 11. 安全测试

### 11.1 认证测试

| 测试ID | TC-SEC-001 |
|-------|------------|
| 测试名称 | 无token访问保护接口 |
| 前置条件 | 无 |
| 测试步骤 | 1. 发送GET请求到`/api/products`<br>2. 请求头不包含token |
| 预期结果 | 1. 返回状态码401<br>2. 返回错误消息"未提供有效的认证信息" |

| 测试ID | TC-SEC-002 |
|-------|------------|
| 测试名称 | 过期token访问保护接口 |
| 前置条件 | 获取一个已过期的token |
| 测试步骤 | 1. 发送GET请求到`/api/products`<br>2. 请求头包含过期token |
| 预期结果 | 1. 返回状态码401<br>2. 返回错误消息"token已过期" |

### 11.2 权限测试

| 测试ID | TC-SEC-003 |
|-------|------------|
| 测试名称 | 普通用户访问管理员接口 |
| 前置条件 | 已获取普通收银员的有效token |
| 测试步骤 | 1. 发送GET请求到`/api/auth/users`<br>2. 请求头包含普通收银员token |
| 预期结果 | 1. 返回状态码403<br>2. 返回错误消息"权限不足" |

## 12. 数据验证测试

### 12.1 输入验证测试

| 测试ID | TC-VAL-001 |
|-------|------------|
| 测试名称 | 创建商品-缺少必填字段 |
| 前置条件 | 已获取有效token |
| 测试步骤 | 1. 发送POST请求到`/api/products`<br>2. 请求头包含有效token<br>3. 请求体缺少必填字段(如商品名称) |
| 预期结果 | 1. 返回状态码400<br>2. 返回错误消息"商品信息不完整" |

| 测试ID | TC-VAL-002 |
|-------|------------|
| 测试名称 | 创建会员-日期格式错误 |
| 前置条件 | 已获取有效token |
| 测试步骤 | 1. 发送POST请求到`/api/members`<br>2. 请求头包含有效token<br>3. 请求体中日期格式错误(如"2023/01/01") |
| 预期结果 | 1. 返回状态码400<br>2. 返回错误消息"日期格式错误" |
